<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåê C√¥ng C·ª• Tra C·ª©u Nghi√™n C·ª©u H·ªçc Thu·∫≠t</title>
    
    <style>
        /* --- CSS: ƒê·ªãnh d·∫°ng v√† Giao di·ªán --- */
        :root {
            --primary-color: #0056b3;
            --secondary-color: #28a745;
            --background-color: #f4f7f8;
            --card-background: #ffffff;
            --border-color: #e9ecef;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background-color);
            color: #333;
            margin: 0;
            padding: 0;
        }

        /* 3. Y√™u C·∫ßu Giao Di·ªán: Header */
        .header {
            background-color: var(--primary-color);
            color: white;
            padding: 15px 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            margin: 0;
            font-size: 1.8em;
        }

        .nav a {
            color: white;
            text-decoration: none;
            margin-left: 20px;
            font-weight: 500;
        }

        /* 3. Y√™u C·∫ßu Giao Di·ªán: Container Ch√≠nh */
        .main-container {
            display: flex;
            max-width: 1200px;
            margin: 30px auto;
            padding: 0 20px;
        }

        /* 3. Y√™u C·∫ßu Giao Di·ªán: Thanh b√™n (Sidebar) */
        .sidebar {
            width: 280px;
            padding: 20px;
            margin-right: 25px;
            background-color: var(--card-background);
            border-radius: 8px;
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.08);
            height: fit-content;
        }

        .sidebar h3 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 10px;
            margin-top: 0;
            margin-bottom: 20px;
        }

        .filter-group {
            margin-bottom: 20px;
        }

        .filter-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 0.95em;
        }

        .filter-group select, .filter-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            font-size: 1em;
        }

        .range-inputs {
            display: flex;
            gap: 10px;
        }
        
        /* 3. Y√™u C·∫ßu Giao Di·ªán: Khu v·ª±c K·∫øt qu·∫£ */
        .results-area {
            flex-grow: 1;
        }

        /* 3. Y√™u C·∫ßu Giao Di·ªán: √î T√¨m ki·∫øm ch√≠nh */
        .search-box {
            display: flex;
            margin-bottom: 20px;
        }

        #search-query {
            flex-grow: 1;
            padding: 12px;
            border: 2px solid var(--primary-color);
            border-radius: 4px 0 0 4px;
            font-size: 16px;
        }

        .search-box button {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        .search-box button:hover {
            background-color: #1e7e34;
        }

        .sort-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background-color: #e9f5ff;
            border-radius: 4px;
        }
        
        .sort-bar select {
            padding: 5px;
            border-radius: 4px;
        }

        /* 4.B Hi·ªÉn th·ªã K·∫øt qu·∫£: Danh s√°ch */
        .result-item {
            background-color: var(--card-background);
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 6px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
            border-left: 5px solid var(--primary-color);
        }

        .result-item h4 {
            color: var(--primary-color);
            margin-top: 0;
            font-size: 1.2em;
        }
        
        .result-item h4 a {
            color: var(--primary-color);
            text-decoration: none;
        }

        .result-item h4 a:hover {
            text-decoration: underline;
        }
        
        .result-item p {
            margin: 5px 0;
            color: #666;
            line-height: 1.4;
        }
        
        .result-item .meta {
            font-size: 0.9em;
            color: #555;
            margin-top: 8px;
        }
        
        .result-item .abstract-snippet {
            margin-top: 10px;
            border-left: 3px solid #ccc;
            padding-left: 10px;
            font-style: italic;
        }

        /* 4.B Trang Chi ti·∫øt (M√¥ ph·ªèng Modal) */
        .modal {
            display: none; 
            position: fixed; 
            z-index: 1000; 
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4); 
            padding-top: 60px;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto; 
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            width: 80%; 
            max-width: 800px;
        }

        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close-button:hover,
        .close-button:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
        
        .modal-content h2 {
            color: var(--primary-color);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }
        
        .modal-content .abstract-full {
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            line-height: 1.6;
        }
        
        .modal-footer {
            margin-top: 20px;
            text-align: right;
        }

        .modal-footer a {
            background-color: #dc3545;
            color: white;
            padding: 10px 15px;
            text-decoration: none;
            border-radius: 4px;
            font-weight: 600;
            transition: background-color 0.3s;
        }

        .modal-footer a:hover {
            background-color: #c82333;
        }

        /* 5. Y√™u c·∫ßu K·ªπ thu·∫≠t: Responsive */
        @media (max-width: 992px) {
            .main-container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                margin-right: 0;
                margin-bottom: 20px;
            }

            .search-box {
                flex-direction: column;
            }

            #search-query {
                border-radius: 4px;
                margin-bottom: 10px;
            }

            .search-box button {
                border-radius: 4px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <h1>AcademiaSearch üî¨</h1>
            <div class="nav">
                <a href="#">Trang ch·ªß</a>
                <a href="#">Gi·ªõi thi·ªáu</a>
                <a href="#">Li√™n h·ªá</a>
            </div>
        </div>
    </div>

    <div class="main-container">
        <div class="sidebar">
            <h3>B·ªô L·ªçc Nghi√™n C·ª©u</h3>
            <button onclick="applyFilters()" style="background-color: #ffc107; color: #333; width: 100%; border: none; padding: 10px; border-radius: 4px; cursor: pointer; margin-bottom: 15px;">√Åp d·ª•ng B·ªô l·ªçc</button>
            <div class="filter-group">
                <label>Ph·∫°m vi NƒÉm Xu·∫•t B·∫£n:</label>
                <div class="range-inputs">
                    <input type="number" id="year-min" placeholder="T·ª´ nƒÉm" min="1900" max="2050" value="2020">
                    <input type="number" id="year-max" placeholder="ƒê·∫øn nƒÉm" min="1900" max="2050" value="2025">
                </div>
            </div>

            <div class="filter-group">
                <label for="type-filter">Lo·∫°i T√†i Li·ªáu:</label>
                <select id="type-filter">
                    <option value="">-- T·∫•t c·∫£ --</option>
                    <option value="Journal">T·∫°p ch√≠ khoa h·ªçc</option>
                    <option value="Conference">K·ª∑ y·∫øu H·ªôi th·∫£o</option>
                    <option value="Thesis">Lu·∫≠n vƒÉn/Lu·∫≠n √°n</option>
                    <option value="Book">S√°ch</option>
                </select>
            </div>
            
            <div class="filter-group">
                <label for="field-filter">Lƒ©nh v·ª±c:</label>
                <select id="field-filter">
                    <option value="">-- T·∫•t c·∫£ --</option>
                    <option value="IT">C√¥ng ngh·ªá th√¥ng tin</option>
                    <option value="Medicine">Y h·ªçc</option>
                    <option value="Economics">Kinh t·∫ø</option>
                    <option value="Sociology">X√£ h·ªôi h·ªçc</option>
                </select>
            </div>
        </div>

        <div class="results-area">
            <div class="search-box">
                <input type="text" id="search-query" placeholder="Nh·∫≠p t·ª´ kh√≥a (Ti√™u ƒë·ªÅ, T√°c gi·∫£, Abstract)">
                <button onclick="performSearch()">T√¨m ki·∫øm</button>
            </div>
            
            <div class="sort-bar">
                <p style="margin: 0;">T√¨m th·∫•y <span id="count-number" style="color: var(--primary-color);">0</span> k·∫øt qu·∫£.</p>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <label for="sort-by">S·∫Øp x·∫øp theo:</label>
                    <select id="sort-by" onchange="applyFilters()">
                        <option value="relevance">ƒê·ªô li√™n quan</option>
                        <option value="year_desc">NƒÉm (M·ªõi nh·∫•t)</option>
                        <option value="author_asc">T√°c gi·∫£ (A-Z)</option>
                    </select>
                </div>
            </div>

            <div id="results-list">
                </div>
        </div>
    </div>
    
    <div id="details-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" onclick="closeModal()">&times;</span>
            <h2 id="modal-title"></h2>
            <p><strong>T√°c gi·∫£:</strong> <span id="modal-authors"></span></p>
            <p><strong>Ngu·ªìn:</strong> <span id="modal-source"></span> (<span id="modal-year"></span>)</p>
            <h3>T√≥m t·∫Øt (Abstract)</h3>
            <div class="abstract-full" id="modal-abstract"></div>
            <div class="modal-footer">
                <a id="modal-link" href="#" target="_blank">Xem T√†i li·ªáu G·ªëc &rarr;</a>
            </div>
        </div>
    </div>

    <script>
        /* --- JavaScript: Logic T√¨m ki·∫øm, L·ªçc v√† Hi·ªÉn th·ªã --- */

        // 6. D·ªØ li·ªáu M√¥ ph·ªèng (mockData)
        const mockData = [
            { id: 1, title: "Deep Reinforcement Learning for Autonomous Drone Navigation", authors: "J. Smith, M. Lee", year: 2024, source: "IEEE Transactions on Robotics", type: "Journal", field: "IT", abstract_snippet: "Nghi√™n c·ª©u ·ª©ng d·ª•ng h·ªçc tƒÉng c∆∞·ªùng s√¢u ƒë·ªÉ ƒëi·ªÅu h∆∞·ªõng drone...", abstract_full: "Nghi√™n c·ª©u n√†y ƒë·ªÅ xu·∫•t m·ªôt ki·∫øn tr√∫c h·ªçc tƒÉng c∆∞·ªùng s√¢u m·ªõi ƒë·ªÉ c·∫£i thi·ªán kh·∫£ nƒÉng ƒëi·ªÅu h∆∞·ªõng v√† tr√°nh ch∆∞·ªõng ng·∫°i v·∫≠t c·ªßa drone t·ª± h√†nh trong m√¥i tr∆∞·ªùng ph·ª©c t·∫°p v√† kh√¥ng x√°c ƒë·ªãnh. K·∫øt qu·∫£ cho th·∫•y hi·ªáu su·∫•t v∆∞·ª£t tr·ªôi so v·ªõi c√°c ph∆∞∆°ng ph√°p truy·ªÅn th·ªëng.", link_doi: "https://doi.org/10.1109/TRO.2024.345678" },
            { id: 2, title: "Economic Impact of COVID-19 on Global Supply Chains", authors: "A. Chen, B. Kim", year: 2022, source: "World Economics Conference Proceedings", type: "Conference", field: "Economics", abstract_snippet: "Ph√¢n t√≠ch ƒë·ªãnh l∆∞·ª£ng v·ªÅ s·ª± gi√°n ƒëo·∫°n chu·ªói cung ·ª©ng to√†n c·∫ßu...", abstract_full: "B√†i b√°o n√†y cung c·∫•p ph√¢n t√≠ch ƒë·ªãnh l∆∞·ª£ng v·ªÅ m·ª©c ƒë·ªô v√† t√≠nh ch·∫•t c·ªßa s·ª± gi√°n ƒëo·∫°n chu·ªói cung ·ª©ng to√†n c·∫ßu do ƒë·∫°i d·ªãch COVID-19 g√¢y ra. C√°c t√°c gi·∫£ ƒë∆∞a ra m√¥ h√¨nh d·ª± b√°o ph·ª•c h·ªìi kinh t·∫ø d·ª±a tr√™n ch·ªâ s·ªë th∆∞∆°ng m·∫°i qu·ªëc t·∫ø.", link_doi: "https://doi.org/10.1016/j.glosec.2022.01.005" },
            { id: 3, title: "Early Detection of Alzheimer's Disease using MRI and AI", authors: "R. Johnson, L. Miller", year: 2025, source: "The Lancet Neurology", type: "Journal", field: "Medicine", abstract_snippet: "S·ª≠ d·ª•ng tr√≠ tu·ªá nh√¢n t·∫°o ƒë·ªÉ ph√°t hi·ªán s·ªõm b·ªánh Alzheimer...", abstract_full: "Ch√∫ng t√¥i ƒë√£ ph√°t tri·ªÉn m·ªôt thu·∫≠t to√°n Tr√≠ tu·ªá Nh√¢n t·∫°o m·ªõi d·ª±a tr√™n m·∫°ng n∆°-ron t√≠ch ch·∫≠p (CNN) ƒë·ªÉ ph√¢n t√≠ch h√¨nh ·∫£nh c·ªông h∆∞·ªüng t·ª´ (MRI), ƒë·∫°t ƒë∆∞·ª£c ƒë·ªô ch√≠nh x√°c cao trong vi·ªác ph√°t hi·ªán c√°c d·∫•u hi·ªáu s·ªõm c·ªßa b·ªánh Alzheimer.", link_doi: "https://doi.org/10.1016/S1474-4422(25)00123-X" },
            { id: 4, title: "A Study on Social Media and Youth Mental Health", authors: "S. Nguyen, D. Tran", year: 2023, source: "International Journal of Sociology", type: "Thesis", field: "Sociology", abstract_snippet: "Nghi√™n c·ª©u v·ªÅ m·ªëi li√™n h·ªá gi·ªØa m·∫°ng x√£ h·ªôi v√† s·ª©c kh·ªèe t√¢m th·∫ßn v·ªã th√†nh ni√™n...", abstract_full: "Lu·∫≠n vƒÉn n√†y ƒëi·ªÅu tra m·ªëi li√™n h·ªá ph·ª©c t·∫°p gi·ªØa vi·ªác s·ª≠ d·ª•ng m·∫°ng x√£ h·ªôi v√† c√°c v·∫•n ƒë·ªÅ s·ª©c kh·ªèe t√¢m th·∫ßn ·ªü thanh thi·∫øu ni√™n th√¥ng qua kh·∫£o s√°t v√† ph·ªèng v·∫•n chuy√™n s√¢u.", link_doi: "https://research.university.edu/thesis/2023/nguyen_social_media" },
            { id: 5, title: "Foundations of Modern Cryptography", authors: "C. G. M. D. Rivas", year: 2020, source: "MIT Press", type: "Book", field: "IT", abstract_snippet: "Cu·ªën s√°ch gi√°o tr√¨nh c∆° b·∫£n v·ªÅ m·∫≠t m√£ h·ªçc hi·ªán ƒë·∫°i...", abstract_full: "ƒê√¢y l√† m·ªôt t√†i li·ªáu to√†n di·ªán bao g·ªìm c√°c nguy√™n t·∫Øc c∆° b·∫£n v√† n√¢ng cao c·ªßa m·∫≠t m√£ h·ªçc hi·ªán ƒë·∫°i, bao g·ªìm m√£ h√≥a kh√≥a c√¥ng khai, h√†m bƒÉm v√† ch·ªØ k√Ω s·ªë.", link_doi: "https://books.mitpress.edu/9780262044234" }
        ];

        let displayData = [...mockData]; // D·ªØ li·ªáu ƒëang hi·ªÉn th·ªã (sau khi t√¨m ki·∫øm/l·ªçc)

        // √Ånh x·∫° t√™n lo·∫°i t√†i li·ªáu
        function getTypeName(typeCode) {
            switch (typeCode) {
                case 'Journal': return 'T·∫°p ch√≠ khoa h·ªçc';
                case 'Conference': return 'K·ª∑ y·∫øu H·ªôi th·∫£o';
                case 'Thesis': return 'Lu·∫≠n vƒÉn/Lu·∫≠n √°n';
                case 'Book': return 'S√°ch';
                default: return 'Kh√°c';
            }
        }

        // --- 4.B Hi·ªÉn th·ªã K·∫øt qu·∫£: Danh s√°ch ---
        function renderResults(data) {
            const resultsList = document.getElementById('results-list');
            const countNumber = document.getElementById('count-number');
            resultsList.innerHTML = '';
            
            if (data.length === 0) {
                resultsList.innerHTML = '<p style="text-align: center; padding: 30px; font-size: 1.1em;">Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£ n√†o ph√π h·ª£p v·ªõi ti√™u ch√≠ t√¨m ki·∫øm v√† l·ªçc.</p>';
                countNumber.textContent = 0;
                return;
            }

            countNumber.textContent = data.length;

            data.forEach(item => {
                const itemDiv = document.createElement('div');
                itemDiv.className = 'result-item';
                itemDiv.innerHTML = `
                    <h4><a href="#" onclick="showDetails(${item.id}); return false;">${item.title}</a></h4>
                    <p class="meta"><strong>T√°c gi·∫£:</strong> ${item.authors} | <strong>NƒÉm:</strong> ${item.year} | <strong>Ngu·ªìn:</strong> ${item.source} (${getTypeName(item.type)})</p>
                    <p class="abstract-snippet">${item.abstract_snippet}...</p>
                `;
                resultsList.appendChild(itemDiv);
            });
        }
        
        // --- 4.B Hi·ªÉn th·ªã K·∫øt qu·∫£: Trang Chi ti·∫øt (Modal) ---
        function showDetails(id) {
            const item = mockData.find(d => d.id === id);
            if (!item) return;

            document.getElementById('modal-title').textContent = item.title;
            document.getElementById('modal-authors').textContent = item.authors;
            document.getElementById('modal-source').textContent = item.source + ` (${getTypeName(item.type)})`;
            document.getElementById('modal-year').textContent = item.year;
            document.getElementById('modal-abstract').textContent = item.abstract_full;
            document.getElementById('modal-link').href = item.link_doi;

            document.getElementById('details-modal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('details-modal').style.display = 'none';
        }

        // ƒê√≥ng modal khi click ra ngo√†i
        window.onclick = function(event) {
            const modal = document.getElementById('details-modal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }

        // --- 4.A T√¨m ki·∫øm c∆° b·∫£n ---
        function performSearch() {
            const query = document.getElementById('search-query').value.toLowerCase().trim();
            
            let searchedData = mockData.filter(item => {
                const searchString = `${item.title} ${item.authors} ${item.abstract_snippet} ${item.abstract_full}`.toLowerCase();
                return searchString.includes(query);
            });

            // Sau khi t√¨m ki·∫øm, √°p d·ª•ng lu√¥n c√°c b·ªô l·ªçc hi·ªán t·∫°i
            applyFilters(searchedData); 
        }

        // --- 4.A L·ªçc n√¢ng cao & S·∫Øp x·∫øp ---
        function applyFilters(data = mockData) {
            const query = document.getElementById('search-query').value.toLowerCase().trim();
            const yearMin = parseInt(document.getElementById('year-min').value);
            const yearMax = parseInt(document.getElementById('year-max').value);
            const typeFilter = document.getElementById('type-filter').value;
            const fieldFilter = document.getElementById('field-filter').value;
            const sortBy = document.getElementById('sort-by').value;

            // 1. T√¨m ki·∫øm (√Åp d·ª•ng l·∫°i logic t√¨m ki·∫øm n·∫øu c√≥ thay ƒë·ªïi l·ªçc)
            let filtered = data.filter(item => {
                // √Åp d·ª•ng l·∫°i t√¨m ki·∫øm theo t·ª´ kh√≥a
                const searchString = `${item.title} ${item.authors} ${item.abstract_snippet} ${item.abstract_full}`.toLowerCase();
                const passSearch = searchString.includes(query);
                
                // 2. L·ªçc theo NƒÉm
                const passYear = item.year >= yearMin && item.year <= yearMax;

                // 3. L·ªçc theo Lo·∫°i
                const passType = !typeFilter || item.type === typeFilter;

                // 4. L·ªçc theo Lƒ©nh v·ª±c
                const passField = !fieldFilter || item.field === fieldFilter;

                return passSearch && passYear && passType && passField;
            });
            
            // 5. S·∫Øp x·∫øp
            if (sortBy === 'year_desc') {
                filtered.sort((a, b) => b.year - a.year);
            } else if (sortBy === 'author_asc') {
                filtered.sort((a, b) => a.authors.localeCompare(b.authors));
            } 
            // 'relevance' (m·∫∑c ƒë·ªãnh) kh√¥ng c·∫ßn s·∫Øp x·∫øp th√™m

            displayData = filtered;
            renderResults(displayData);
        }

        // T·∫£i trang l·∫ßn ƒë·∫ßu: hi·ªÉn th·ªã t·∫•t c·∫£ d·ªØ li·ªáu
        window.onload = function() {
            // Thi·∫øt l·∫≠p gi√° tr·ªã m·∫∑c ƒë·ªãnh cho nƒÉm
            document.getElementById('year-min').value = 2020;
            document.getElementById('year-max').value = new Date().getFullYear(); 
            applyFilters(mockData);
        };
        
    </script>
</body>
</html>
